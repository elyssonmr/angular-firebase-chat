"use strict";angular.module("angularFirebaseChatApp",["ngRoute","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"ChatController"}).otherwise({redirectTo:"/"})}]),angular.module("angularFirebaseChatApp").controller("ChatController",["$scope","$firebase","$filter",function(a,b,c){var d=new Firebase("https://elyssonmr.firebaseio.com/messages");a.messages=b(d),$("#loading").modal("show"),a.messages.$on("loaded",function(){$("#loading").modal("hide")}),a.messages.$on("child_added",function(){var a=$("#messages-panel .list-group"),b=0;$.each($(".list-group-item"),function(a,c){b+=$(c).height()}),b+=400,a.scrollTop(a.scrollTop()+b)}),a.message="",a.name="",a.send=function(){var b={},d=!1,e=$("#name").parent();if(a.name.trim()?(e.removeClass("has-error"),e.children().remove("p")):(e.addClass("has-error"),e.has("p").length||e.append('<p class="text-danger">Name should not be empty.</p>'),d=!0),e=$("#message").parent(),a.message.trim()?(e.removeClass("has-error"),e.children().remove("p")):(e.addClass("has-error"),e.has("p").length||e.append('<p class="text-danger">Message should not be empty.</p>'),d=!0),!d){b.name=a.name,b.text=a.message;var f=new Date;b.time=c("date")(f,"HH:mm"),a.messages.$add(b),a.message=""}},a.clearMessage=function(){a.message=""}}]);
